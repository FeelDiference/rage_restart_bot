# ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ Ð´Ð»Ñ Ð¿Ñ€Ð¸Ð²Ð°Ñ‚Ð½Ð¾Ð³Ð¾ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ

Ð˜Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ð¸ Ð¿Ð¾ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐµ GitHub Actions Ð´Ð»Ñ Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¾Ð³Ð¾ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€ `81.177.220.187:22`.

## ðŸ”‘ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° SSH ÐºÐ»ÑŽÑ‡ÐµÐ¹

### 1. Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ SSH ÐºÐ»ÑŽÑ‡ÐµÐ¹

ÐÐ° Ð²Ð°ÑˆÐµÐ¹ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð¼Ð°ÑˆÐ¸Ð½Ðµ:

```bash
# Ð“ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼ SSH ÐºÐ»ÑŽÑ‡ ÑÐ¿ÐµÑ†Ð¸Ð°Ð»ÑŒÐ½Ð¾ Ð´Ð»Ñ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ
ssh-keygen -t rsa -b 4096 -C "deploy@rage-bot" -f ~/.ssh/rage_bot_deploy

# Ð¡Ð¾Ð·Ð´Ð°ÐµÑ‚ÑÑ Ð´Ð²Ð° Ñ„Ð°Ð¹Ð»Ð°:
# ~/.ssh/rage_bot_deploy      (Ð¿Ñ€Ð¸Ð²Ð°Ñ‚Ð½Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡)
# ~/.ssh/rage_bot_deploy.pub  (Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡)
```

### 2. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° ÑÐµÑ€Ð²ÐµÑ€Ð°

Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€:

```bash
# ÐžÑ‚Ð¿Ñ€Ð°Ð²Ð»ÑÐµÐ¼ Ð¿ÑƒÐ±Ð»Ð¸Ñ‡Ð½Ñ‹Ð¹ ÐºÐ»ÑŽÑ‡ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€
ssh-copy-id -i ~/.ssh/rage_bot_deploy.pub -p 22 username@81.177.220.187

# Ð˜Ð»Ð¸ Ð²Ñ€ÑƒÑ‡Ð½ÑƒÑŽ:
cat ~/.ssh/rage_bot_deploy.pub | ssh -p 22 username@81.177.220.187 "mkdir -p ~/.ssh && cat >> ~/.ssh/authorized_keys"
```

### 3. Ð¢ÐµÑÑ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ

```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Ñ‡Ñ‚Ð¾ SSH Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚
ssh -i ~/.ssh/rage_bot_deploy -p 22 username@81.177.220.187

# Ð•ÑÐ»Ð¸ Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾, Ð²Ñ‹ Ð¿Ð¾Ð¿Ð°Ð´ÐµÑ‚Ðµ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€
```

## ðŸ”’ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° GitHub Secrets

Ð’ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ°Ñ… Ð²Ð°ÑˆÐµÐ³Ð¾ Ð¿Ñ€Ð¸Ð²Ð°Ñ‚Ð½Ð¾Ð³Ð¾ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ Ð´Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ðµ ÑÐµÐºÑ€ÐµÑ‚Ñ‹:

### 1. ÐŸÐµÑ€ÐµÑ…Ð¾Ð´Ð¸Ð¼ Ð² Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ¸ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ

```
GitHub â†’ Ð’Ð°Ñˆ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹ â†’ Settings â†’ Secrets and variables â†’ Actions
```

### 2. Ð”Ð¾Ð±Ð°Ð²Ð»ÑÐµÐ¼ ÑÐµÐºÑ€ÐµÑ‚Ñ‹

| ÐÐ°Ð·Ð²Ð°Ð½Ð¸Ðµ | Ð—Ð½Ð°Ñ‡ÐµÐ½Ð¸Ðµ | ÐžÐ¿Ð¸ÑÐ°Ð½Ð¸Ðµ |
|----------|----------|----------|
| `SERVER_USER` | `username` | Ð˜Ð¼Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ |
| `SERVER_SSH_KEY` | Ð¡Ð¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ `~/.ssh/rage_bot_deploy` | ÐŸÑ€Ð¸Ð²Ð°Ñ‚Ð½Ñ‹Ð¹ SSH ÐºÐ»ÑŽÑ‡ |

**ÐŸÐ¾Ð»ÑƒÑ‡ÐµÐ½Ð¸Ðµ Ð¿Ñ€Ð¸Ð²Ð°Ñ‚Ð½Ð¾Ð³Ð¾ ÐºÐ»ÑŽÑ‡Ð°:**
```bash
cat ~/.ssh/rage_bot_deploy
```

Ð¡ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐ¹Ñ‚Ðµ Ð²ÐµÑÑŒ Ð²Ñ‹Ð²Ð¾Ð´ (Ð²ÐºÐ»ÑŽÑ‡Ð°Ñ `-----BEGIN OPENSSH PRIVATE KEY-----` Ð¸ `-----END OPENSSH PRIVATE KEY-----`) Ð¸ Ð²ÑÑ‚Ð°Ð²ÑŒÑ‚Ðµ Ð² ÑÐµÐºÑ€ÐµÑ‚ `SERVER_SSH_KEY`.

## ðŸ” ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Deploy ÐºÐ»ÑŽÑ‡Ð° Ð´Ð»Ñ Git

Ð”Ð»Ñ ÐºÐ»Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð¿Ñ€Ð¸Ð²Ð°Ñ‚Ð½Ð¾Ð³Ð¾ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ ÑÐ¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ñ‹Ð¹ Deploy Key:

### 1. Ð“ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ñ Deploy ÐºÐ»ÑŽÑ‡Ð°

```bash
# Ð“ÐµÐ½ÐµÑ€Ð¸Ñ€ÑƒÐµÐ¼ ÐºÐ»ÑŽÑ‡ Ð´Ð»Ñ Git
ssh-keygen -t rsa -b 4096 -C "git-deploy@rage-bot" -f ~/.ssh/rage_bot_git_deploy
```

### 2. Ð”Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð¸Ðµ Deploy Key Ð² GitHub

1. Ð˜Ð´ÐµÐ¼ Ð²: `GitHub â†’ Ð’Ð°Ñˆ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹ â†’ Settings â†’ Deploy keys`
2. ÐÐ°Ð¶Ð¸Ð¼Ð°ÐµÐ¼ **Add deploy key**
3. Title: `Production Server Deploy`
4. Key: Ð¡Ð¾Ð´ÐµÑ€Ð¶Ð¸Ð¼Ð¾Ðµ Ñ„Ð°Ð¹Ð»Ð° `~/.ssh/rage_bot_git_deploy.pub`
5. âœ… Allow write access (ÐµÑÐ»Ð¸ Ð½ÑƒÐ¶Ð½Ð¾)
6. ÐÐ°Ð¶Ð¸Ð¼Ð°ÐµÐ¼ **Add key**

### 3. ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° Git Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ

ÐÐ° ÑÐµÑ€Ð²ÐµÑ€Ðµ `81.177.220.187` ÑÐ¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ SSH ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ:

```bash
# ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ÑÑ Ðº ÑÐµÑ€Ð²ÐµÑ€Ñƒ
ssh -i ~/.ssh/rage_bot_deploy -p 22 username@81.177.220.187

# Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ SSH ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ
mkdir -p ~/.ssh
cat > ~/.ssh/config << 'EOF'
Host github.com-rage-bot
    HostName github.com
    User git
    IdentityFile ~/.ssh/rage_bot_git_deploy
    IdentitiesOnly yes
EOF

# ÐšÐ¾Ð¿Ð¸Ñ€ÑƒÐµÐ¼ Deploy ÐºÐ»ÑŽÑ‡ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€ (Ð´ÐµÐ»Ð°ÐµÑ‚ÑÑ Ð¿Ñ€Ð¸ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ð¸)
```

### 4. ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ðµ GitHub Actions

Ð’ Ñ„Ð°Ð¹Ð»Ðµ `.github/workflows/deploy.yml` ÑƒÐ¶Ðµ Ð½Ð°ÑÑ‚Ñ€Ð¾ÐµÐ½Ð¾ ÐºÐ»Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ñ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ð¼Ð¸ ÐºÐ»ÑŽÑ‡Ð°Ð¼Ð¸.

## ðŸš€ ÐŸÐµÑ€Ð²Ð¾Ð½Ð°Ñ‡Ð°Ð»ÑŒÐ½Ð¾Ðµ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ

### 1. Ð ÑƒÑ‡Ð½Ð°Ñ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° ÑÐµÑ€Ð²ÐµÑ€Ð°

ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÐµÑÑŒ Ðº ÑÐµÑ€Ð²ÐµÑ€Ñƒ Ð¸ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð¿ÐµÑ€Ð²Ð¾Ð½Ð°Ñ‡Ð°Ð»ÑŒÐ½ÑƒÑŽ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¹ÐºÑƒ:

```bash
# ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ÑÑ Ðº ÑÐµÑ€Ð²ÐµÑ€Ñƒ
ssh -i ~/.ssh/rage_bot_deploy -p 22 username@81.177.220.187

# Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Docker (ÐµÑÐ»Ð¸ Ð½Ðµ ÑƒÑÑ‚Ð°Ð½Ð¾Ð²Ð»ÐµÐ½)
curl -fsSL https://get.docker.com -o get-docker.sh
sudo sh get-docker.sh
sudo usermod -aG docker $USER

# Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Docker Compose
sudo curl -L "https://github.com/docker/compose/releases/latest/download/docker-compose-$(uname -s)-$(uname -m)" -o /usr/local/bin/docker-compose
sudo chmod +x /usr/local/bin/docker-compose

# Ð¡Ð¾Ð·Ð´Ð°ÐµÐ¼ Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸ÑŽ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°
sudo mkdir -p /opt/rage-restart-bot
sudo chown $USER:$USER /opt/rage-restart-bot

# ÐŸÐµÑ€ÐµÐ»Ð¾Ð³Ð¸Ð½Ð¸Ð²Ð°ÐµÐ¼ÑÑ Ð´Ð»Ñ Ð¿Ñ€Ð¸Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ Ð³Ñ€ÑƒÐ¿Ð¿Ñ‹ docker
exit
```

### 2. ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Git Deploy ÐºÐ»ÑŽÑ‡Ð°

```bash
# Ð¡ Ð»Ð¾ÐºÐ°Ð»ÑŒÐ½Ð¾Ð¹ Ð¼Ð°ÑˆÐ¸Ð½Ñ‹ ÐºÐ¾Ð¿Ð¸Ñ€ÑƒÐµÐ¼ Deploy ÐºÐ»ÑŽÑ‡ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€
scp -i ~/.ssh/rage_bot_deploy -P 22 ~/.ssh/rage_bot_git_deploy username@81.177.220.187:~/.ssh/
scp -i ~/.ssh/rage_bot_deploy -P 22 ~/.ssh/rage_bot_git_deploy.pub username@81.177.220.187:~/.ssh/

# Ð£ÑÑ‚Ð°Ð½Ð°Ð²Ð»Ð¸Ð²Ð°ÐµÐ¼ Ð¿Ñ€Ð°Ð²Ð¸Ð»ÑŒÐ½Ñ‹Ðµ Ð¿Ñ€Ð°Ð²Ð°
ssh -i ~/.ssh/rage_bot_deploy -p 22 username@81.177.220.187 "chmod 600 ~/.ssh/rage_bot_git_deploy && chmod 644 ~/.ssh/rage_bot_git_deploy.pub"
```

### 3. ÐŸÐµÑ€Ð²Ð¾Ðµ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ðµ

ÐŸÐ¾ÑÐ»Ðµ push Ð² Ð²ÐµÑ‚ÐºÑƒ `main` GitHub Actions Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸:

1. Ð¡Ð¾Ð±ÐµÑ€ÐµÑ‚ Docker Ð¾Ð±Ñ€Ð°Ð·
2. ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð¸Ñ‚ÑÑ Ðº ÑÐµÑ€Ð²ÐµÑ€Ñƒ Ð¿Ð¾ SSH
3. Ð¡ÐºÐ»Ð¾Ð½Ð¸Ñ€ÑƒÐµÑ‚ Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ð¹
4. Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ñ‹

## ðŸ”§ ÐÐ°ÑÑ‚Ñ€Ð¾Ð¹ÐºÐ° ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€Ðµ

ÐŸÐ¾ÑÐ»Ðµ Ð¿ÐµÑ€Ð²Ð¾Ð³Ð¾ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ Ð½ÐµÐ¾Ð±Ñ…Ð¾Ð´Ð¸Ð¼Ð¾ Ð½Ð°ÑÑ‚Ñ€Ð¾Ð¸Ñ‚ÑŒ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ:

```bash
# ÐŸÐ¾Ð´ÐºÐ»ÑŽÑ‡Ð°ÐµÐ¼ÑÑ Ðº ÑÐµÑ€Ð²ÐµÑ€Ñƒ
ssh -i ~/.ssh/rage_bot_deploy -p 22 username@81.177.220.187

# ÐŸÐµÑ€ÐµÑ…Ð¾Ð´Ð¸Ð¼ Ð² Ð´Ð¸Ñ€ÐµÐºÑ‚Ð¾Ñ€Ð¸ÑŽ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°
cd /opt/rage-restart-bot

# ÐšÐ¾Ð¿Ð¸Ñ€ÑƒÐµÐ¼ Ð¸ Ñ€ÐµÐ´Ð°ÐºÑ‚Ð¸Ñ€ÑƒÐµÐ¼ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÑŽ
cp config/config.yaml.example config/config.yaml
nano config/config.yaml

# ÐžÑÐ½Ð¾Ð²Ð½Ñ‹Ðµ Ð¿Ð°Ñ€Ð°Ð¼ÐµÑ‚Ñ€Ñ‹ Ð´Ð»Ñ Ð¸Ð·Ð¼ÐµÐ½ÐµÐ½Ð¸Ñ:
# - telegram.token: Ð²Ð°Ñˆ Ñ‚Ð¾ÐºÐµÐ½ Ð±Ð¾Ñ‚Ð°
# - telegram.allowed_groups: ID Ð²Ð°ÑˆÐ¸Ñ… Ð³Ñ€ÑƒÐ¿Ð¿
# - telegram.admin_users: Ð²Ð°Ñˆ Telegram ID
# - docker.container_name: Ð¸Ð¼Ñ Rage ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°

# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐºÐ°ÐµÐ¼ Ð±Ð¾Ñ‚ Ñ Ð½Ð¾Ð²Ð¾Ð¹ ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸ÐµÐ¹
docker-compose restart rage-bot
```

## ðŸ“Š ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ

### 1. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÑÑ‚Ð°Ñ‚ÑƒÑÐ° ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€Ð°

```bash
# ÐÐ° ÑÐµÑ€Ð²ÐµÑ€Ðµ
cd /opt/rage-restart-bot
docker-compose ps
docker-compose logs rage-bot
```

### 2. ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ñ€Ð°Ð±Ð¾Ñ‚Ñ‹ Ð±Ð¾Ñ‚Ð°

1. Ð’ Telegram Ð³Ñ€ÑƒÐ¿Ð¿Ðµ Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ `/start`
2. ÐŸÑ€Ð¾Ð²ÐµÑ€ÑŒÑ‚Ðµ Ð¾Ñ‚Ð²ÐµÑ‚ Ð±Ð¾Ñ‚Ð°
3. Ð’Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ `/status` Ð´Ð»Ñ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐºÐ¸ Ð¼Ð¾Ð½Ð¸Ñ‚Ð¾Ñ€Ð¸Ð½Ð³Ð°

## ðŸ”„ ÐžÐ±Ð½Ð¾Ð²Ð»ÐµÐ½Ð¸Ñ

ÐŸÐ¾ÑÐ»Ðµ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ push Ð² `main`:

1. GitHub Actions Ð°Ð²Ñ‚Ð¾Ð¼Ð°Ñ‚Ð¸Ñ‡ÐµÑÐºÐ¸ ÑÐ¾Ð±ÐµÑ€ÐµÑ‚ Ð½Ð¾Ð²Ñ‹Ð¹ Ð¾Ð±Ñ€Ð°Ð·
2. Ð Ð°Ð·Ð²ÐµÑ€Ð½ÐµÑ‚ Ð½Ð° ÑÐµÑ€Ð²ÐµÑ€
3. ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ ÐºÐ¾Ð½Ñ‚ÐµÐ¹Ð½ÐµÑ€

Ð›Ð¾Ð³Ð¸ Ñ€Ð°Ð·Ð²ÐµÑ€Ñ‚Ñ‹Ð²Ð°Ð½Ð¸Ñ Ð¼Ð¾Ð¶Ð½Ð¾ Ð¿Ð¾ÑÐ¼Ð¾Ñ‚Ñ€ÐµÑ‚ÑŒ Ð² Ñ€Ð°Ð·Ð´ÐµÐ»Ðµ **Actions** Ñ€ÐµÐ¿Ð¾Ð·Ð¸Ñ‚Ð¾Ñ€Ð¸Ñ.

## ðŸ†˜ Ð£ÑÑ‚Ñ€Ð°Ð½ÐµÐ½Ð¸Ðµ Ð½ÐµÐ¿Ð¾Ð»Ð°Ð´Ð¾Ðº

### SSH Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ðµ Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚

```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° SSH Ð¿Ð¾Ð´ÐºÐ»ÑŽÑ‡ÐµÐ½Ð¸Ñ Ñ Ð¾Ñ‚Ð»Ð°Ð´ÐºÐ¾Ð¹
ssh -v -i ~/.ssh/rage_bot_deploy -p 22 username@81.177.220.187

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿Ñ€Ð°Ð² Ð½Ð° ÐºÐ»ÑŽÑ‡Ð¸
ls -la ~/.ssh/rage_bot_deploy*
chmod 600 ~/.ssh/rage_bot_deploy
chmod 644 ~/.ssh/rage_bot_deploy.pub
```

### Git ÐºÐ»Ð¾Ð½Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ðµ Ð½Ðµ Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÐµÑ‚

```bash
# ÐÐ° ÑÐµÑ€Ð²ÐµÑ€Ðµ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÐµÐ¼ Git SSH
ssh -T git@github.com-rage-bot

# Ð”Ð¾Ð»Ð¶Ð½Ð¾ Ð²Ñ‹Ð²ÐµÑÑ‚Ð¸: Hi USERNAME! You've successfully authenticated
```

### Docker Ð½Ðµ Ð·Ð°Ð¿ÑƒÑÐºÐ°ÐµÑ‚ÑÑ

```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Docker
sudo systemctl status docker
sudo systemctl start docker

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð¿Ñ€Ð°Ð² Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ
groups $USER
# Ð”Ð¾Ð»Ð¶Ð½Ð° Ð±Ñ‹Ñ‚ÑŒ Ð³Ñ€ÑƒÐ¿Ð¿Ð° docker
```

### Ð‘Ð¾Ñ‚ Ð½Ðµ Ð¾Ñ‚Ð²ÐµÑ‡Ð°ÐµÑ‚

```bash
# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° Ð»Ð¾Ð³Ð¾Ð²
cd /opt/rage-restart-bot
docker-compose logs rage-bot

# ÐŸÑ€Ð¾Ð²ÐµÑ€ÐºÐ° ÐºÐ¾Ð½Ñ„Ð¸Ð³ÑƒÑ€Ð°Ñ†Ð¸Ð¸
cat config/config.yaml

# ÐŸÐµÑ€ÐµÐ·Ð°Ð¿ÑƒÑÐº
docker-compose restart rage-bot
```